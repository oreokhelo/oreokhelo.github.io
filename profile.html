<!DOCTYPE html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Profile</title><script src="https://cdn.tailwindcss.com"></script></head>
<body class="p-6 bg-gray-100">
  <div class="max-w-md mx-auto">
    <h1 class="text-2xl font-bold mb-4">My Profile</h1>
    <div id="box" class="bg-white p-4 rounded shadow"></div>
    <p class="mt-3"><a href="index.html" class="text-blue-600">Back</a></p>
  </div>

<script>
function getUsers(){ return JSON.parse(localStorage.getItem('users')||'[]'); }
const phone = localStorage.getItem('currentUser');
if(!phone){ alert('Login first'); location.href='login.html'; }
const users = getUsers();
const me = users.find(u=>u.phone===phone);
document.getElementById('box').innerHTML = `<p class="font-semibold">Phone: ${me.phone}</p>
<p class="text-sm text-gray-600">Name: ${me.name}</p>
<p class="text-sm text-gray-600">VIP: ${me.vip}</p>
<p class="text-sm text-gray-600">Balance: ₹${(me.balance||0).toFixed(2)}</p>
<p class="text-sm text-gray-600">Total income: ₹${(me.totalIncome||0).toFixed(2)}</p>
<p class="text-sm mt-2">Subscriptions: <pre class="text-xs bg-gray-50 p-2 rounded">${JSON.stringify(me.subscriptions || [], null, 2)}</pre></p>`;
</script>
</body></html>
